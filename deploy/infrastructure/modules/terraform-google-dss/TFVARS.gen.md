<!-- 
# This file has been automatically generated by /deploy/infrastructure/utils/generate_terraform_variables.py.
# Please do not modify manually.
 -->

# Terraform variables

## terraform-google-dss

The following table describes the variables of this terraform module.

<table>
        <thead>
            <th>Variable name</th>
            <th>Type</th>
            <th>Default value</th>
            <th>Description</th>
        </thead>
        <tbody><tr>
                <td>google_project_name</td>
                <td><code>string</code></td>
                <td></td>
                <td><p>Name of the GCP project hosting the future cluster</p>
</td>
            </tr><tr>
                <td>google_zone</td>
                <td><code>string</code></td>
                <td></td>
                <td><p>GCP zone hosting the kubernetes cluster
List of available zones: https://cloud.google.com/compute/docs/regions-zones#available</p>
<p>Example: <code>europe-west6-a</code></p>
</td>
            </tr><tr>
                <td>google_dns_managed_zone_name</td>
                <td><code>string</code></td>
                <td></td>
                <td><p>GCP DNS zone name to automatically manage DNS entries.</p>
<p>Leave it empty to manage it manually.</p>
</td>
            </tr><tr>
                <td>google_machine_type</td>
                <td><code>string</code></td>
                <td></td>
                <td><p>GCP machine type used for the Kubernetes node pool.
Example: <code>n2-standard-4</code> for production, <code>e2-medium</code> for development</p>
</td>
            </tr><tr>
                <td>app_hostname</td>
                <td><code>string</code></td>
                <td></td>
                <td><p>Fully-qualified domain name of your HTTPS Gateway ingress endpoint.</p>
<p>Example: <code>dss.example.com</code></p>
</td>
            </tr><tr>
                <td>db_hostname_suffix</td>
                <td><code>string</code></td>
                <td></td>
                <td><p>The domain name suffix shared by all of your databases nodes.
For instance, if your database nodes were addressable at 0.db.example.com,
1.db.example.com and 2.db.example.com (CockroachDB) or 0.master.db.example.com, 1.tserver.db.example.com (Yugabyte), then the value would be db.example.com.
Example: db.example.com</p>
</td>
            </tr><tr>
                <td>datastore_type</td>
                <td><code>string</code></td>
                <td><code>"cockroachdb"</code></td>
                <td><p>Type of datastore used</p>
<p>Supported technologies: cockroachdb, yugabyte</p>
</td>
            </tr><tr>
                <td>node_count</td>
                <td><code>number</code></td>
                <td></td>
                <td><p>Number of Kubernetes nodes which should correspond to the desired CockroachDB nodes.
Currently, only single node or three nodes deployments are supported.</p>
<p>Example: <code>3</code></p>
</td>
            </tr><tr>
                <td>cluster_name</td>
                <td><code>string</code></td>
                <td></td>
                <td><p>Name of the kubernetes cluster that will host this DSS instance (should generally describe the DSS instance being hosted)</p>
<p>Example: <code>dss-che-1</code></p>
</td>
            </tr><tr>
                <td>kubernetes_version</td>
                <td><code>string</code></td>
                <td></td>
                <td><p>Desired version of the Kubernetes cluster control plane and nodes.</p>
<p>Supported versions: 1.24 to 1.32</p>
</td>
            </tr><tr>
                <td>google_kubernetes_storage_class</td>
                <td><code>string</code></td>
                <td></td>
                <td><p>GCP Kubernetes Storage Class to use for CockroachDB and Prometheus persistent volumes.
See https://cloud.google.com/kubernetes-engine/docs/concepts/persistent-volumes for more details and
available options.</p>
<p>Example: <code>standard</code></p>
</td>
            </tr><tr>
                <td>crdb_hostname_suffix</td>
                <td><code>string</code></td>
                <td><code>""</code></td>
                <td><p>This variable has been renamed to db_hostname_suffix and is left to warn users about migration.</p>
</td>
            </tr><tr>
                <td>image</td>
                <td><code>string</code></td>
                <td></td>
                <td><p>URL of the DSS docker image.</p>
<p>Official public images are available on Docker Hub: https://hub.docker.com/r/interuss/dss/tags
See <a href="../../../../build/README.md#docker-images">/build/README.md</a> Docker images section to learn
how to build and publish your own image.</p>
<p>Example: <code>docker.io/interuss/dss:latest</code> or <code>docker.io/interuss/dss:v0.14.0</code></p>
</td>
            </tr><tr>
                <td>image_pull_secret</td>
                <td><code>string</code></td>
                <td><code>""</code></td>
                <td><p>Secret name of the credentials to access the image registry.
If the image specified in <code>VAR_DOCKER_IMAGE_NAME</code> requires
authentication, you can use the following command to store the credentials as secrets:</p>
<blockquote>
<p>kubectl create secret -n VAR_NAMESPACE docker-registry VAR_DOCKER_IMAGE_PULL_SECRET <br />
--docker-server=DOCKER_REGISTRY_SERVER <br />
--docker-username=DOCKER_USER <br />
--docker-password=DOCKER_PASSWORD <br />
--docker-email=DOCKER_EMAIL</p>
</blockquote>
<p>Replace <code>VAR_DOCKER_IMAGE_PULL_SECRET</code> with the secret name (for instance: <code>private-registry-credentials</code>).
For docker hub private repository, use <code>docker.io</code> as <code>DOCKER_REGISTRY_SERVER</code> and an
<a href="https://hub.docker.com/settings/security">access token</a> as <code>DOCKER_PASSWORD</code>.</p>
<p>Example: docker-registry</p>
</td>
            </tr><tr>
                <td>authorization</td>
                <td><code>object({<br/>'public_key_pem_path': '${optional(string)}',<br/> 'jwks': "${optional(object({<br/>'endpoint': '${string}',<br/> 'key_id': '${string}'})<br/>)}"})<br/></code></td>
                <td></td>
                <td><p>One of <code>public_key_pem_path</code> or <code>jwks</code> should be provided but not both.</p>
<ul>
<li>
<p>public_key_pem_path
If providing the access token public key via JWKS, do not provide this parameter.
If providing a .pem file directly as the public key to validate incoming access tokens, specify the name
of this .pem file here as /public-certs/YOUR-KEY-NAME.pem replacing YOUR-KEY-NAME as appropriate. For instance,
if using the provided us-demo.pem, use the path /public-certs/us-demo.pem. Note that your .pem file should be built
in the docker image or mounted manually.</p>
<p>Example 1 (dummy auth):</p>
<pre><code>{
  public_key_pem_path = &quot;/test-certs/auth2.pem&quot;
}
</code></pre>
<p>Example 2:</p>
<pre><code>{
  public_key_pem_path = &quot;/jwt-public-certs/us-demo.pem&quot;
}
</code></pre>
</li>
<li>
<p>jwks
If providing a .pem file directly as the public key to validate incoming access tokens, do not provide this parameter.</p>
<ul>
<li>endpoint
If providing the access token public key via JWKS, specify the JWKS endpoint here.
Example: https://auth.example.com/.well-known/jwks.json</li>
<li>key_id:
If providing the access token public key via JWKS, specify the kid (key ID) of they appropriate key in the JWKS file referenced above.
Example:</li>
</ul>
<pre><code>{
  jwks = {
    endpoint = &quot;https://auth.example.com/.well-known/jwks.json&quot;
    key_id = &quot;9C6DF78B-77A7-4E89-8990-E654841A7826&quot;
  }
}
</code></pre>
</li>
</ul>
</td>
            </tr><tr>
                <td>enable_scd</td>
                <td><code>bool</code></td>
                <td><code>true</code></td>
                <td><p>Set this boolean true to enable ASTM strategic conflict detection functionality</p>
</td>
            </tr><tr>
                <td>should_init</td>
                <td><code>bool</code></td>
                <td><code>none</code></td>
                <td><p>Set to false if joining an existing pool, true if creating the first DSS instance
for a pool. When set true, this can initialize the data directories on your cluster,
and prevent you from joining an existing pool.</p>
<p>Example: <code>true</code></p>
</td>
            </tr><tr>
                <td>desired_rid_db_version</td>
                <td><code>string</code></td>
                <td><code>"latest"</code></td>
                <td><p>Desired RID DB schema version.
Use <code>latest</code> to use the latest schema version.</p>
<p>Example: <code>4.0.0</code></p>
</td>
            </tr><tr>
                <td>desired_scd_db_version</td>
                <td><code>string</code></td>
                <td><code>"latest"</code></td>
                <td><p>Desired SCD DB schema version.
Use <code>latest</code> to use the latest schema version.</p>
<p>Example: <code>3.1.0</code></p>
</td>
            </tr><tr>
                <td>crdb_image_tag</td>
                <td><code>string</code></td>
                <td></td>
                <td><p>Version tag of the CockroachDB image.
Until v.16, the recommended CockroachDB version is v21.2.7.
From v.17, the recommended CockroachDB version is v24.1.3.</p>
<p>Example: v24.1.3</p>
</td>
            </tr><tr>
                <td>crdb_cluster_name</td>
                <td><code>string</code></td>
                <td></td>
                <td><p>A string that specifies a CRDB cluster name. This is used together to ensure that all newly created
nodes join the intended cluster when you are running multiple clusters.
The CRDB cluster is automatically given a randomly-generated name if an empty string is provided.
The CRDB cluster name must be 6-20 characters in length, and can include lowercase letters, numbers,
and dashes (but no leading or trailing dashes). A cluster's name cannot be edited after it is created.</p>
<p>At the moment, this variable is only used for helm charts deployments.</p>
<p>Example: interuss-us-production</p>
</td>
            </tr><tr>
                <td>crdb_locality</td>
                <td><code>string</code></td>
                <td></td>
                <td><p>Unique name for your DSS instance. Currently, we recommend &quot;&lt;ORG_NAME&gt;_&lt;CLUSTER_NAME&gt;&quot;,
and the = character is not allowed. However, any unique (among all other participating
DSS instances) value is acceptable.</p>
<p>Example: &lt;ORGNAME_CLUSTER_NAME&gt;</p>
</td>
            </tr><tr>
                <td>crdb_external_nodes</td>
                <td><code>list(string)</code></td>
                <td><code>[]</code></td>
                <td><p>Fully-qualified domain name of existing CRDB nodes outside of the cluster if you are joining an existing pool.
Example: [&quot;0.db.dss.example.com&quot;, &quot;1.db.dss.example.com&quot;, &quot;2.db.dss.example.com&quot;]</p>
</td>
            </tr><tr>
                <td>kubernetes_namespace</td>
                <td><code>string</code></td>
                <td><code>"default"</code></td>
                <td><p>Namespace where to deploy Kubernetes resources. Only default is supported at the moment.</p>
<p>Example: <code>default</code></p>
</td>
            </tr><tr>
                <td>yugabyte_cloud</td>
                <td><code>string</code></td>
                <td><code>"dss"</code></td>
                <td><p>Cloud of yugabyte instances, used for partionning.</p>
<p>Should be set to dss unless you're doing advanced partitionning.</p>
</td>
            </tr><tr>
                <td>yugabyte_region</td>
                <td><code>string</code></td>
                <td><code>"uss-1"</code></td>
                <td><p>Region of yugabyte instances, used for partionning.</p>
<p>Should be different from others USS in a cluster.</p>
</td>
            </tr><tr>
                <td>yugabyte_zone</td>
                <td><code>string</code></td>
                <td><code>"zone"</code></td>
                <td><p>Zone of yugabyte instances, used for partionning.</p>
<p>Should be set to zone unless you're doing advanced partitionning.</p>
</td>
            </tr><tr>
                <td>yugabyte_light_resources</td>
                <td><code>bool</code></td>
                <td><code>false</code></td>
                <td><p>Enable light resources reservation for yugabyte instances.</p>
<p>Useful for a dev cluster when you don't want to overload your kubernetes cluster.</p>
</td>
            </tr><tr>
                <td>yugabyte_external_nodes</td>
                <td><code>list(string)</code></td>
                <td><code>[]</code></td>
                <td><p>Fully-qualified domain name of existing yugabyte master nodes outside of the cluster if you are joining an existing pool.
Example: [&quot;0.master.db.dss.example.com&quot;, &quot;1.master.db.dss.example.com&quot;, &quot;2.master.db.dss.example.com&quot;]</p>
</td>
            </tr></tbody>
    </table>